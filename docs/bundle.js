(e=>{"use strict";window.addEventListener("DOMContentLoaded",(function(){document.getElementById("View").appendChild(e.Calculator(function(e=new URLSearchParams(location.search)){return[...e.entries()].reduce(((e,[t,n])=>(e[t]=n,e)),{})}()).render())}),{once:!0,passive:!0})})(window.R={}),(e=>{"use strict";const t=document.getElementById("templateCalculator"),n=1e3,r=1e6,u=1e9,o=1e12;function s(e){return e&&parseInt(e.replace(/[^0-9]+/gi,""),10)||0}e.Calculator=(e={})=>{const l=document.importNode(t.content,!0).firstChild,c={quote:l.querySelector(".Calculator-quote"),inputs:l.querySelectorAll("input")};return Array.from(c.inputs).forEach((e=>{e.addEventListener("focus",(()=>e.select()),{passive:!0}),e.addEventListener("keyup",(()=>i(function(e){return[...e.elements].reduce(((e,t)=>t?.name?(e[t.name]=t.value,e):e),{})}(l))),{passive:!0})})),i(e),{prepareQuote:i,render:function(){return l}};function i(e={}){const t={volume:s(e.volume),collateral:s(e.collateral),jumps:s(e.jumps),jumpsLowsec:s(e.jumpsLowsec),jumpsNullsec:s(e.jumpsNullsec)};Object.entries(e).forEach((([e,t])=>{l[e].value=t})),c.quote.textContent=function(e=0,t){const s=Math.abs(e);if(s>=o)return`${(e/o).toFixed(1)} trillion ${t||""}`.trim();if(s>=u)return`${(e/u).toFixed(1)} billion ${t||""}`.trim();if(s>=r)return`${(e/r).toFixed(1)} million ${t||""}`.trim();if(s>=n)return`${(e/n).toFixed(1)} thousand ${t||""}`.trim();return`${e.toFixed(1)} ${t||""}`.trim()}(function({volume:e,collateral:t,jumps:n,jumpsLowsec:r,jumpsNullsec:u}){const o={volume:e||0,collateral:t||0,jumps:n||0,jumpsLowsec:r||0,jumpsNullsec:u||0},s=function({volume:e}){return 1e5+e/Math.sqrt(e)*1e3||0}(o),l=function({volume:e,collateral:t}){return Math.sqrt(.001*e+Math.sqrt(.001*t))||0}(o),c=function({jumps:e,jumpsLowsec:t,jumpsNullsec:n}){const r=1*(e-t-n),u=3*t,o=4*n;return Math.sqrt(e)*((r+u+o)/e)||0}(o);return s*l*c}(t),"ISK")}}})(window.R);
